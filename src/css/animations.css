@layer animations {
  /* Pop-in animation for modals/overlays - swings from above */
  .animate-pop-in {
    opacity: 1;
    transform: perspective(1000px) rotateX(0deg) translateZ(0);
    transition:
      opacity 150ms cubic-bezier(0.4, 0, 0.2, 1),
      transform 150ms cubic-bezier(0.4, 0, 0.2, 1),
      overlay 150ms cubic-bezier(0.4, 0, 0.2, 1) allow-discrete,
      display 150ms cubic-bezier(0.4, 0, 0.2, 1) allow-discrete;

    /* Entry - where to animate FROM */
    @starting-style {
      opacity: 0;
      transform: perspective(1000px) rotateX(-15deg) translateZ(-80px);
    }

    /* Exit - where to animate TO when closing */
    &[data-state="closing"] {
      opacity: 0;
      transform: perspective(1000px) rotateX(-15deg) translateZ(-80px);
    }

    &[data-state="closing"]::backdrop {
      opacity: 0;
    }
  }

  /* Backdrop animation for dialogs */
  dialog::backdrop {
    opacity: 1;
    transition: opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);

    @starting-style {
      opacity: 0;
    }
  }

  /* Pop-up animation for toasts - swings from below */
  .animate-pop-up {
    opacity: 1;
    transform: perspective(800px) rotateX(0deg) translateZ(0);
    transition:
      opacity 150ms cubic-bezier(0.4, 0, 0.2, 1),
      transform 150ms cubic-bezier(0.4, 0, 0.2, 1);

    &:not([data-state]) {
      opacity: 0;
      transform: perspective(800px) rotateX(15deg) translateZ(-60px);
    }

    &[data-state="closed"] {
      opacity: 0;
      transform: perspective(800px) rotateX(15deg) translateZ(-60px);
    }
  }
}
